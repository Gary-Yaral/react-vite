var D=Object.defineProperty,k=Object.defineProperties;var M=Object.getOwnPropertyDescriptors;var g=Object.getOwnPropertySymbols;var q=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;var b=(e,t,o)=>t in e?D(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,y=(e,t)=>{for(var o in t||(t={}))q.call(t,o)&&b(e,o,t[o]);if(g)for(var o of g(t))L.call(t,o)&&b(e,o,t[o]);return e},S=(e,t)=>k(e,M(t));import{c as p,j as s,a as r,F as v,r as d,b as $,d as O,e as j,R as F,f as H,P as B}from"./vendor.d2ca4f24.js";const Q=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))c(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&c(i)}).observe(document,{childList:!0,subtree:!0});function o(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerpolicy&&(a.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?a.credentials="include":n.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function c(n){if(n.ep)return;n.ep=!0;const a=o(n);fetch(n.href,a)}};Q();const C="@item/added",w="@item/substracted",A="@item/deleted",T="@item/allDeleted",x="@payment/showed",P="@payment/hidden",R="@search/search_item",E="@data/load_data",I=e=>({type:C,payload:y({},e)}),V=e=>({type:w,payload:{id:e}}),W=e=>({type:A,payload:{id:e}}),Y=()=>({type:T}),z=()=>({type:x}),G=()=>({type:P}),J=e=>({type:R,payload:{data:e}}),K=e=>({type:E,payload:e});function U({searchItem:e,dataList:t}){function o(n){let a=n;const i=[];return a===""?e([!1]):(t.forEach(u=>{const l=u.items.filter(h=>new RegExp("^"+a,"i").test(h.name));i.push(l)}),i[0].length===0?e(["Not results"]):e(...i))}function c(n){n.preventDefault();let a;return n.currentTarget.className==="search"?(a=n.currentTarget.search.value,o(a)):(a=n.target.value,o(a))}return s("form",{className:"search",onSubmit:n=>c(n),children:[r("input",{name:"search",type:"text",className:"inputSearch",placeholder:"search",onChange:n=>c(n)}),r("button",{type:"submit",children:r("ion-icon",{name:"search"})})]})}const X=e=>({searchItem:t=>e(J(t))}),Z=e=>({dataList:e.load});var ee=p(Z,X)(U);function te(){return r("section",{className:"logo-container",children:r("h2",{className:"logoname",children:"Shopping"})})}function re({isActive:e,items:t,total:o,substractToCart:c,addToCart:n,removeItem:a,removeAll:i,showPayment:u}){return s("section",{className:e?"cart-modal":"cart-modal modal-hidden",children:[r("div",{className:"cart-items-container",children:t.length>0?t.map(l=>s("div",{className:"cart-item",children:[r("ion-icon",{name:"trash",onClick:()=>a(l.id)}),r("img",{src:l.url,alt:l.name}),s("section",{children:[r("h3",{className:"item-title",children:l.name}),s("p",{children:["Price: $",l.price]}),s("div",{className:"item-buttons",children:[r("ion-icon",{name:"remove-circle",onClick:()=>c(l.id)}),r("div",{children:l.quantity}),r("ion-icon",{name:"add-circle",onClick:()=>n(l)})]})]})]},"item_"+l.id)):"Not products yet"}),t.length>0?s("section",{className:"cart-footer",children:[s("div",{className:"cart-total",children:[r("strong",{children:"Total: $"}),o.toFixed(2)]}),s("div",{className:"cart-buttons",children:[r("button",{className:"cart-btn btn-clear",onClick:()=>i(),children:"Remove all"}),r("button",{className:"cart-btn btn-pay",onClick:()=>u(),children:"To Pay"})]})]}):r(v,{})]})}const ne=e=>({substractToCart:t=>e(V(t)),addToCart:t=>e(I(t)),removeItem:t=>e(W(t)),removeAll:()=>e(Y()),showPayment:()=>e(z())});var ae=p(null,ne)(re);function oe({cart:e}){const[t,o]=d.exports.useState(0),[c,n]=d.exports.useState([]),[a,i]=d.exports.useState(0),[u,l]=d.exports.useState(!1);d.exports.useEffect(()=>{n([...e])},[e]),d.exports.useEffect(()=>{let m=0,N=0;e.forEach(f=>{m+=f.quantity,N+=f.quantity*f.price}),o(m),n([...e]),i(N)},[t,e]);function h(m){m.preventDefault(),l(!u)}return s("div",{className:"icon-container",children:[s("a",{href:"#",className:"iconCart",onClick:m=>h(m),children:[r("div",{className:"counterItems",children:t}),r("ion-icon",{name:"cart"})]}),r(ae,{isActive:u,total:a,items:c})]})}const ce=e=>({cart:e.shop});var se=p(ce)(oe);function ie(){return s("nav",{className:"navbar",children:[r(te,{}),r(ee,{}),r(se,{})]})}function le({item:e,addToCart:t}){const{name:o,price:c,url:n}=e;return s("div",{className:"card",children:[r("img",{src:n,alt:"image"}),r("div",{className:"card-title",children:o}),s("div",{className:"card-price",children:[r("strong",{children:"Price: "}),"$",c]}),r("button",{onClick:()=>t(e),children:"Add to Cart"})]})}const de=e=>({addToCart:t=>e(I(t))});var _=p(null,de)(le);function ue(e){const{section:t}=e,{id:o,name:c,items:n}=t;return s("section",{className:"section",children:[r("h3",{children:c}),r("div",{className:"items-container",children:n.map(a=>r(_,{item:a},a.id))})]})}function me({items:e}){return s("section",{className:"section",children:[r("h3",{children:"Results: "}),r("div",{className:"items-container",children:e.map(t=>r(_,{item:t},t.id))})]})}function pe({paymentState:e,hidePayment:t}){return r("section",{className:e===!0?"payment":"payment payment-hidden",children:s("form",{children:[r("div",{className:"payment-close",onClick:()=>t(),children:"Close"}),r("h2",{className:"payment-title",children:"Information"}),r("label",{htmlFor:"identifier",children:"ID"}),r("input",{type:"text",id:"identifier"}),r("label",{htmlFor:"full-name",children:"Full name"}),r("input",{type:"text",id:"full-name"}),r("label",{htmlFor:"cellphone",children:"Cellphone"}),r("input",{type:"text",id:"cellphone"}),r("label",{htmlFor:"address",children:"Address"}),r("input",{type:"text",id:"address"}),r("input",{type:"submit",value:"Send"})]})})}const he=[{id:+new Date,name:"Shoes",items:[{id:Math.random(36),name:"Nike",price:29.99,url:"https://www.stockcenter.com.ar/on/demandware.static/-/Sites-dabra-catalog/default/dw0df3fa19/products/NI_AQ2730-400/NI_AQ2730-400-1.JPG"},{id:Math.random(36),name:"Nike women",price:29.99,url:"https://i.pinimg.com/736x/6d/44/1a/6d441a6c91e5b28ea248068075e54fc7--nike-dunks-sequoia.jpg"},{id:Math.random(36),name:"Reebok",price:35.25,url:"https://ferreira.vteximg.com.br/arquivos/ids/334728-1000-1000/re_eg6422.jpg?v=637163373401200000"},{id:Math.random(36),name:"Adidas",price:29.99,url:"https://runastore.pe/media/catalog/product/cache/1/image/1600x/040ec09b1e35df139433887a97daa66f/f/3/f36921-001__2.jpg"},{id:Math.random(36),name:"Volcom",price:29.99,url:"https://www.bfgcdn.com/1500_1500_90/024-0480/volcom-draw-lo-shoe-zapatillas-deportivas-detail-6.jpg"}]}];function fe({paymentState:e,hidePayment:t,loadSections:o,search:c}){const[n,a]=d.exports.useState([...he]),[i,u]=d.exports.useState(c);return d.exports.useEffect(()=>{o(n)},[]),d.exports.useEffect(()=>{u(c)},[c]),s("div",{className:"App",children:[r(ie,{}),typeof c[0]=="object"?r(me,{items:c}):typeof c[0]=="string"?r("div",{className:"not-results",children:" Not results "}):r(v,{}),typeof c[0]=="boolean"||c[0]===void 0?n.map(l=>r(ue,{section:l},l.id)):r(v,{}),r(pe,{paymentState:e,hidePayment:t})]})}const ye=e=>({paymentState:e.pay,load:e.load,search:e.search}),ve=e=>({hidePayment:()=>e(G()),loadSections:t=>e(K(t))});var Ne=p(ye,ve)(fe);function ge(e=[],t){switch(t.type){case C:return e.find(a=>a.id===t.payload.id)?[...e.map(i=>(i.id==t.payload.id&&(i.quantity=i.quantity+1),i))]:[...e,S(y({},t.payload),{quantity:1})];case w:return[...e.map(a=>(a.id==t.payload.id&&(a.quantity>1?a.quantity=a.quantity-1:a.quantity),a))];case A:return[...e.filter(a=>a.id!==t.payload.id)];case T:return[];default:return e}}function be(e=!1,t){return t.type===x?!0:(t.type===P,!1)}function Se(e=[],t){return t.type===R&&t.payload.data.length>0?[...t.payload.data]:e}function Ce(e=[],t){switch(t.type){case E:return[...t.payload];default:return e}}const we=$({shop:ge,pay:be,search:Se,load:Ce}),Ae=O(we,j());F.render(r(H.StrictMode,{children:r(B,{store:Ae,children:r(Ne,{})})}),document.getElementById("root"));
